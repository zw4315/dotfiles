# =============================================
# Mihomo é…ç½®æ–‡ä»¶æ¨¡æ¿
# 
# âš ï¸  é‡è¦: è¿™ä¸ªæ–‡ä»¶æ˜¯æ¨¡æ¿ï¼Œä¼šè¢« git è¿½è¸ªï¼
#    è¯·å‹¿åœ¨æ­¤æ–‡ä»¶å¡«å†™çœŸå®è®¢é˜… tokenï¼
#
# ğŸ“‹ å¿«é€Ÿå¼€å§‹:
#    1. cp config.yaml config.local.yaml
#    2. ç¼–è¾‘ config.local.yamlï¼Œå¡«å…¥ä½ çš„è®¢é˜…é“¾æ¥
#    3. config.local.yaml ä¼šè¢« git è‡ªåŠ¨å¿½ç•¥
#
# =============================================

# =============================================
# ğŸ”§ åŸºç¡€é…ç½®ï¼ˆé€šå¸¸æ— éœ€ä¿®æ”¹ï¼‰
# =============================================
# mixed-port: HTTP + SOCKS5 ç»Ÿä¸€ç«¯å£
mixed-port: 7890

# å¤–éƒ¨æ§åˆ¶å™¨ï¼ˆWeb é¢æ¿ï¼‰
external-controller: 127.0.0.1:9090

# å…è®¸å±€åŸŸç½‘è¿æ¥
bind-address: '0.0.0.0'
log-level: info
ipv6: false
unified-delay: true

dns:
  enable: true
  listen: 0.0.0.0:1053
  ipv6: false
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  default-nameserver:
    - 223.5.5.5
  nameserver:
    - https://doh.pub/dns-query
  fallback:
    - https://1.1.1.1/dns-query
  fallback-filter:
    geoip: true
    geoip-code: CN

# =============================================
# ğŸ”’ ä»£ç†é…ç½®ï¼ˆè¯·åœ¨ config.local.yaml ä¸­å¡«å†™ï¼‰
# =============================================

# ç¤ºä¾‹é…ç½®ï¼ˆå¤åˆ¶åˆ° config.local.yaml å¹¶ä¿®æ”¹ï¼‰:
#
# proxy-providers:
#   myprovider:
#     type: http
#     url: "https://your-subscribe-url.com/api?token=YOUR_TOKEN"
#     interval: 86400
#     path: ./proxies/myprovider.yaml
#     health-check:
#       enable: true
#       interval: 600
#       url: http://www.gstatic.com/generate_204
#     # ğŸ“ æ’é™¤é¦™æ¸¯èŠ‚ç‚¹ï¼ˆå¯é€‰ï¼‰
#     # filter: "(?i)^(?!.*(?:æ¸¯|hk|hongkong|hong kong))"
#
# proxies: []
#
# proxy-groups:
#   - name: ğŸš€ èŠ‚ç‚¹é€‰æ‹©
#     type: select
#     proxies:
#       - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
#       - ğŸ¯ å…¨çƒç›´è¿
#     use:
#       - myprovider
#
#   - name: â™»ï¸ è‡ªåŠ¨é€‰æ‹©
#     type: url-test
#     use:
#       - myprovider
#     url: http://www.gstatic.com/generate_204
#     interval: 300
#     # ğŸ“ æ’é™¤é¦™æ¸¯èŠ‚ç‚¹ï¼ˆå¯é€‰ï¼‰
#     # filter: "(?i)^(?!.*(?:æ¸¯|hk|hongkong|hong kong))"
#
#   - name: ğŸ¯ å…¨çƒç›´è¿
#     type: select
#     proxies:
#       - DIRECT
#
#   - name: ğŸŸ æ¼ç½‘ä¹‹é±¼
#     type: select
#     proxies:
#       - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
#       - ğŸ¯ å…¨çƒç›´è¿
#     use:
#       - myprovider

# =============================================
# ğŸ“ å½“å‰é…ç½®ï¼ˆæœ€å°å¯ç”¨ï¼Œæ— ä»£ç†åŠŸèƒ½ï¼‰
# =============================================

proxies: []

proxy-groups:
  - name: ğŸš€ èŠ‚ç‚¹é€‰æ‹©
    type: select
    proxies:
      - ğŸ¯ å…¨çƒç›´è¿

  - name: ğŸ¯ å…¨çƒç›´è¿
    type: select
    proxies:
      - DIRECT

  - name: ğŸŸ æ¼ç½‘ä¹‹é±¼
    type: select
    proxies:
      - ğŸ¯ å…¨çƒç›´è¿

rules:
  - DOMAIN-SUFFIX,local,ğŸ¯ å…¨çƒç›´è¿
  - IP-CIDR,127.0.0.0/8,ğŸ¯ å…¨çƒç›´è¿,no-resolve
  - IP-CIDR,192.168.0.0/16,ğŸ¯ å…¨çƒç›´è¿,no-resolve
  - IP-CIDR,10.0.0.0/8,ğŸ¯ å…¨çƒç›´è¿,no-resolve
  - GEOIP,CN,ğŸ¯ å…¨çƒç›´è¿,no-resolve
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼
