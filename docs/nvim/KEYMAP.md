# Neovim 快捷键速查手册

> 快速查询所有自定义快捷键，按功能分类，便于日常使用。

---

## 快捷键命名规范

| 前缀 | 含义 | 说明 |
|------|------|------|
| `<leader>g*` | gtags | **小写**，高频代码跳转 |
| `<leader>G*` | Git | **大写**，低频 Git 操作 |
| `<leader>c*` | Code | 代码/符号相关 |
| `<leader>b*` | Bookmarks | 书签管理 |
| `<leader>n*` | Notes | 笔记（Telekasten） |
| `<leader>k*` | highlight | 高亮（keep） |

---

## 一、代码跳转（Navigation）

### 1.1 跳转到定义

| 快捷键 | 功能 | 插件 | 说明 |
|--------|------|------|------|
| `gd` | LSP 定义 | 内置 | 精确跳转（语义分析） |
| `<leader>gd` | gtags 定义 | gtags | **快速跳转**（推荐日常使用） |

### 1.2 查找引用

| 快捷键 | 功能 | 插件 | 说明 |
|--------|------|------|------|
| `gr` | LSP 引用 | 内置 | 精确查找 |
| `<leader>gr` | gtags 引用 | gtags | **快速查找**（推荐日常使用） |

### 1.3 符号搜索

| 快捷键 | 功能 | 插件 | 说明 |
|--------|------|------|------|
| `<leader>gs` | gtags 符号 | gtags | 搜索当前文件符号 |
| `<F8>` | 切换符号大纲 | aerial | 显示/隐藏侧边栏 |
| `<leader>co` | 符号导航 | aerial | 浮动窗口导航 |
| `<leader>cs` | 打开符号大纲 | aerial | 打开侧边栏 |
| `<leader>cS` | 关闭符号大纲 | aerial | 关闭侧边栏 |

### 1.4 全局搜索

| 快捷键 | 功能 | 插件 | 说明 |
|--------|------|------|------|
| `<leader>gg` | gtags grep | gtags | 全局文本搜索 |
| `/pattern` | 当前文件搜索 | 内置 | 搜索当前文件 |
| `*` | 搜索当前词 | 内置 | 向前搜索 |
| `#` | 搜索当前词 | 内置 | 向后搜索 |

---

## 二、搜索增强

### 2.1 搜索计数（hlslens）

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `n` | 下一个匹配 | 显示计数 (1/10) |
| `N` | 上一个匹配 | 显示计数 |
| `<leader>l` | 清除高亮 | 清除搜索高亮 |

### 2.2 多词高亮（interestingwords）

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `<leader>k` | 高亮当前词 | Normal 模式 |
| `<leader>k` | 高亮选中文本 | Visual 模式 |
| `<leader>K` | 清除所有高亮 | 清除所有标记 |

**使用示例**：
1. 在 `function` 上按 `<leader>k` → 变黄
2. 在 `return` 上按 `<leader>k` → 变蓝
3. 两个词同时高亮显示

---

## 三、代码选择（Treesitter Text Objects）

### 3.1 函数

| 快捷键 | 选择范围 |
|--------|---------|
| `vaf` | 整个函数（包括定义行） |
| `vif` | 函数内部（不包括定义行） |

### 3.2 类/结构体

| 快捷键 | 选择范围 |
|--------|---------|
| `vac` | 整个类 |
| `vic` | 类内部 |

### 3.3 代码块

| 快捷键 | 选择范围 |
|--------|---------|
| `vab` | 整个代码块 |
| `vib` | 代码块内部 |

### 3.4 参数

| 快捷键 | 选择范围 |
|--------|---------|
| `vaa` | 整个参数（含分隔符） |
| `via` | 参数内部 |

### 3.5 函数间跳转

| 快捷键 | 功能 |
|--------|------|
| `]f` | 下一个函数开始 |
| `]F` | 下一个函数结束 |
| `[f` | 上一个函数开始 |
| `[F` | 上一个函数结束 |

---

## 四、文件浏览

### 4.1 文件树（Neo-tree）

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `<leader>e` | 文件树 | 打开/关闭文件树 |
| `<leader>er` | 定位当前文件 | 在文件树中显示当前文件 |

### 4.2 文件搜索（Telescope）

| 快捷键 | 功能 |
|--------|------|
| `<leader>ff` | 查找文件 |
| `<leader>fg` | 全局搜索 |
| `<leader>fp` | 查找插件文件 |

---

## 五、书签（Bookmarks）

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `<leader>ba` | 添加书签 | 在当前行添加 |
| `<leader>bg` | 跳转到书签 | 选择并跳转 |
| `<leader>bl` | 书签列表 | 查看所有书签 |
| `<leader>bn` | 下一个书签 | 按行号顺序 |
| `<leader>bp` | 上一个书签 | 按行号顺序 |
| `<leader>bN` | 列表中下一个 | 按列表顺序 |
| `<leader>bP` | 列表中上一个 | 按列表顺序 |
| `<leader>bs` | 搜索书签 | Grep 书签内容 |
| `<leader>bt` | 书签树 | 树形视图 |
| `<leader>bq` | 查询书签 | SQL 查询 |
| `<leader>bi` | 书签信息 | 显示统计 |
| `<leader>bc` | 书签命令 | 命令选择器 |

**使用流程**：
1. 在关键代码处按 `<leader>ba` 添加书签
2. 输入描述（如"重要算法入口"）
3. 之后按 `<leader>bg` 快速跳转

---

## 六、Git 操作（LazyGit）

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `<leader>Gg` | LazyGit | 打开 LazyGit |
| `<leader>Gf` | 当前文件 | LazyGit 当前文件 |
| `<leader>Gc` | 配置 | LazyGit 配置 |

**注意**：大写 G 因为 Git 是低频操作

---

## 七、笔记（Telekasten）

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `<leader>np` | 笔记面板 | Notes Panel |
| `<leader>nt` | 今日笔记 | Goto Today |
| `<leader>nw` | 本周笔记 | Goto This Week |
| `<leader>nn` | 新建笔记 | New Note |
| `<leader>nl` | 跟随链接 | Follow Link |
| `<leader>nc` | 日历 | Calendar |
| `<leader>nf` | 查找笔记 | Find Files |
| `<leader>ng` | 搜索笔记 | Live Grep |

**注意**：使用 `n` 前缀（notes），避免与 `<leader>k` 冲突

---

## 八、Python 开发

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `<leader>cv` | 选择虚拟环境 | VenvSelect |

---

## 九、TypeScript 开发

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `<leader>cO` | 导入排序 | Organize Imports |
| `<leader>cR` | 重命名文件 | Rename File |

**注意**：`<leader>cO` 是大写 O，避免与 aerial 的 `<leader>co` 冲突

---

## 十、Aerial 窗口内按键

在符号大纲窗口内：

| 快捷键 | 功能 |
|--------|------|
| `j/k` | 上下移动 |
| `<CR>` | 跳转到符号 |
| `v` | 垂直分屏打开 |
| `s` | 水平分屏打开 |
| `q` | 关闭窗口 |

---

## 速查口诀

### 常用操作（必记）
```
gd / <leader>gd    跳转到定义
gr / <leader>gr    查找引用
<F8> / <leader>co   符号大纲
<leader>ek         文件树
<leader>gg         全局搜索
<leader>k          高亮当前词
<leader>ba         添加书签
```

### 命名规律
```
g*  = gtags (小写，高频代码跳转)
G*  = Git (大写，低频)
c*  = Code (代码/符号)
b*  = Bookmarks (书签)
n*  = Notes (笔记)
k*  = Keep/Highlight (高亮)
```

---

*最后更新：2024.02.23*
*配置文件：config/nvim/lua/plugins/*.lua*
